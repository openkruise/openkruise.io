<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-kruisegame docs-version-current docs-doc-page docs-doc-id-best-practices/gameserver-delivery-management" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Best Practices for Agile Delivery and Operations Management of GameServers | OpenKruise</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://openkruise.io/kruisegame/best-practices/gameserver-delivery-management"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-kruisegame-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-kruisegame-current"><meta data-rh="true" property="og:title" content="Best Practices for Agile Delivery and Operations Management of GameServers | OpenKruise"><meta data-rh="true" name="description" content="In the traditional operation and maintenance model, the deployment of game servers inevitably leads to the close coupling of business and underlying infrastructure. This process-oriented delivery method often leads to inefficient deployment and difficult troubleshooting in case of problems due to the low degree of automation and lack of effective batch management capabilities."><meta data-rh="true" property="og:description" content="In the traditional operation and maintenance model, the deployment of game servers inevitably leads to the close coupling of business and underlying infrastructure. This process-oriented delivery method often leads to inefficient deployment and difficult troubleshooting in case of problems due to the low degree of automation and lack of effective batch management capabilities."><link data-rh="true" rel="icon" href="/img/openkruise.ico"><link data-rh="true" rel="canonical" href="https://openkruise.io/kruisegame/best-practices/gameserver-delivery-management"><link data-rh="true" rel="alternate" href="https://openkruise.io/kruisegame/best-practices/gameserver-delivery-management" hreflang="en"><link data-rh="true" rel="alternate" href="https://openkruise.io/zh/kruisegame/best-practices/gameserver-delivery-management" hreflang="zh"><link data-rh="true" rel="alternate" href="https://openkruise.io/kruisegame/best-practices/gameserver-delivery-management" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://FKASWWQYOP-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="OpenKruise RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="OpenKruise Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="OpenKruise" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.a97b459d.css">
<script src="/assets/js/runtime~main.5dab132a.js" defer="defer"></script>
<script src="/assets/js/main.2f049b07.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/openkruise.ico"><link rel="preload" as="image" href="/assets/images/git1-dabecbd800586101ef40e61d25852a78.png"><link rel="preload" as="image" href="/assets/images/git2-52c9070f418f443e5c54227ebf40b7e8.png"><link rel="preload" as="image" href="/assets/images/argo-ce028439a3b56a2e4bee243da228f6a0.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">‚≠êÔ∏è If you like OpenKruise, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/openkruise/kruise">GitHub</a>! ‚≠êÔ∏è</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/openkruise.ico" alt="OpenKruise" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/openkruise.ico" alt="OpenKruise" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OpenKruise</b></a><a class="navbar__item navbar__link" href="/docs">Kruise</a><a class="navbar__item navbar__link" href="/rollouts/introduction">Rollouts</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/kruisegame/introduction">Kruise-Game</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/adopters">Adopters</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs">v1.8</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next">v1.9 üöß</a></li><li><a class="dropdown__link" href="/docs">v1.8</a></li><li><a class="dropdown__link" href="/docs/v1.7">v1.7</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/kruisegame/best-practices/gameserver-delivery-management" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh/kruisegame/best-practices/gameserver-delivery-management" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">ÁÆÄ‰Ωì‰∏≠Êñá</a></li></ul></div><a href="https://github.com/openkruise/kruise" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kruisegame/introduction">Getting Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/design-concept">Design Concept</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kruisegame/user-manuals/deploy-gameservers">User Manuals</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/user-manuals/deploy-gameservers">Deploy Gameservers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/user-manuals/gameserver-state">State &amp; OpsState</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/user-manuals/hot-update">Hot Update</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/user-manuals/update-strategy">Update Strategy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/user-manuals/gameservers-scale">Gameservers Scale</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/user-manuals/container-startup-sequence-control">Startup Sequence Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/user-manuals/service-qualities">Service Qualities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/user-manuals/network">Network</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/user-manuals/lifecycle">Custom Lifecycle Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/user-manuals/gameserver-monitor">GameServer Monitor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/user-manuals/game-matchmaking">Game MatchMaking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/user-manuals/game-dashboard">OKG Dashboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/user-manuals/gameserver-scheduler">GameServer Schedulers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/user-manuals/crd-field-description">CRD Field Description</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/user-manuals/faq">FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/kruisegame/best-practices/session-based-game">Best Practices</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/best-practices/session-based-game">Best Practice for Session-Based Games(PvP room)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/best-practices/pve-game">Best Practices for Traditional PvE Games</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/best-practices/shared-mem">Best Practice for Shard-Memory of GameServers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/kruisegame/best-practices/gameserver-delivery-management">Best Practices for Agile Delivery and Operations Management of GameServers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/best-practices/workflow">Best Practices for Game O&amp;M Workflow</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kruisegame/developer-manuals/contribution">Developer Manuals</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/developer-manuals/contribution">contribution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/developer-manuals/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/developer-manuals/go-client">Golang Client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/developer-manuals/kruise-game-api">Kruise Game API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kruisegame/blog-video/kubecon-shangyou-20230926">Blog &amp; Video</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/blog-video/kubecon-shangyou-20230926">ShangYou&#x27;s Cloud-Native Practice of GameServers based on OpenKruiseGame</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/blog-video/kubecon-chillyroom-20240823">The Experience of ChillyRoom Developing &amp; Managing Session-Based Game</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/blog-video/meetup-guangzhou-20231125">OpenKruiseGame Supports Game Ops &amp; Management to Improve Efficiency</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/blog-video/lilith-okg">Lilith Games&#x27; Path to Cloud Native</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/blog-video/yahaha-okg">Yahaha&#x27;s Cloud-Native UE5 Game Practice Powered by OpenKruiseGame</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/blog-video/guanying-20231129">Upgrading Game Cloud-Native Architecture with OpenKrusieGame</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/blog-video/higress">Best Practice for Gaming Gateway of Higress √ó OpenKruiseGame</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/blog-video/cloud-forward-okg">Cloud Forward | Cloud Native Game Solution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/blog-video/ack-one-okg">Best Practices for Consistent Delivery of Global Game Services in Multiple Regions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/blog-video/okg-911">911 Technology&#x27;s &quot;Detective Conan&quot; game cloud native architecture implementation practice</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/blog-video/okg-gsshosting">GssHosting game hosting platform realizes efficient management in multiple regions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/blog-video/okg-360">Landing of 360 Game Containerization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kruisegame/blog-video/gameserver-scale">Cloud Elasticity: Best Practices for Game Server Auto Scaling</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Best Practices</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Best Practices for Agile Delivery and Operations Management of GameServers</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Best Practices for Agile Delivery and Operations Management of GameServers</h1></header>
<p>In the traditional operation and maintenance model, the deployment of game servers inevitably leads to the close coupling of business and underlying infrastructure. This process-oriented delivery method often leads to inefficient deployment and difficult troubleshooting in case of problems due to the low degree of automation and lack of effective batch management capabilities.</p>
<p>In contrast, cloud-native technologies, with their declarative and consistent delivery characteristics, provide significant efficiency gains for the deployment and operation of game servers. However, in practice, we observe that due to the stateful nature of game servers, their delivery logic differs significantly from that of traditional stateless services. This paper aims to shed light on these differences and propose best practice solutions, with the aim of opening up new ideas for agile deployment and O&amp;M management of game servers in cloud-native environments.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gameserver-delivery-with-argocd">GameServer Delivery with ArgoCD<a href="#gameserver-delivery-with-argocd" class="hash-link" aria-label="Direct link to GameServer Delivery with ArgoCD" title="Direct link to GameServer Delivery with ArgoCD">‚Äã</a></h2>
<p>Before we get into the specifics of publishing the example, let&#x27;s take a look at the idea of cloud-native delivery - declarative rather than process-oriented, which means that cloud-native application delivery is not concerned with the deployment process of the application but rather with the definition of the application. The definition of the application is Yaml, which describes what the application should look like in a configuration parameterised way. Therefore, all changes and releases to the application are really changes to the application description (Yaml). At this point we have found that we need a repository to keep a record of the current description of the application and to be able to trace and audit past changes to the Yaml. At this point, I believe you will find that the git repo is a natural fit for this feature. Ops engineers can upload Yaml to the repository by submitting Commit and Merge Requests, and the permissions management and auditing follow the git specification. Ideally, we only need to maintain a set of Yaml describing the game service, and trigger the release of the game service in multiple regions around the world with one click, without the need to operate the cluster one by one for the process to perform deployment actions. This is the idea behind GitOps.</p>
<p>The most challenging thing in landing GitOps is actually the abstraction of the description of a GameServer application; a GameServerSet is a collection of GameServers with the same attributes, which belongs to the GameServer management oriented workload in Kubernetes, and therefore each GameServerSet cannot be deployed across Kubernetes clusters. Therefore, in some scenarios, such as multi-cluster scenarios, each cluster needs at least one GameServerSet, and the description of each GameServerSet is more or less different, so it seems difficult to summarise all the game servers in a single Yaml. As an example, consider the scenario of a global launch - the launch is planned for Shanghai, Tokyo and Frankfurt, so we need infrastructure resources in all three regions. In Shanghai I want to publish 10 game regions, while in Frankfurt I only want to publish 3. In this case, a single Yaml will not be able to describe the game servers for the different geographies because of the differences in the replicas field. Do we need to maintain a Yaml for each locale? This is also not a reasonable approach, when making non-differentiated field changes (e.g., tagging a game server for all geographies), we need to perform multiple Yaml changes repeatedly, which is easy to miss or make mistakes when there are a lot of clusters, which is not in line with the cloud-native delivery idea.</p>
<p>In fact, we can perform further abstraction of the GameServer application by using Helm Chart to extract the discrepancies as Values. In our current example (<a href="https://github.com/AliyunContainerService/gitops-demo/tree/main/manifests/helm/open-game" target="_blank" rel="noopener noreferrer">https://github.com/AliyunContainerService/gitops-demo/tree/main/manifests/helm/open-game</a>), we abstract such discrepancy fields:</p>
<ul>
<li>Main image ‚Äî‚Äî There may be differences in the Main image for each zone/cluster</li>
<li>Sidecar image ‚Äî‚Äî Sidecar image may vary per zone/cluster</li>
<li>GameServer replicas ‚Äî‚Äî The number of game server released per zone/cluster may vary</li>
<li>Whether to enable auto-scale or not ‚Äî‚Äî Requirements for auto-scale may vary per zone/cluster</li>
</ul>
<p>Other than that, all other fields remain consistent, meaning that there is no zone disparity impact.</p>
<p>ArgoCD (<a href="https://argo-cd.readthedocs.io/en/stable/" target="_blank" rel="noopener noreferrer">https://argo-cd.readthedocs.io/en/stable/</a>) as a community mature cloud-native delivery tool, which inherits the idea of GitOps very well, this paper will use ArgoCD for the practical operation of game service delivery. Next we start the specific operation:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-to-a-git-repository">Connecting to a Git Repository<a href="#connecting-to-a-git-repository" class="hash-link" aria-label="Direct link to Connecting to a Git Repository" title="Direct link to Connecting to a Git Repository">‚Äã</a></h3>
<p>We need to connect the Git repository that describes the GameServer application. The steps to do this are as follows:</p>
<ol>
<li>select Settings in the left navigation bar of the ArgoCD UI and then select Repositories &gt; + Connect Repo</li>
<li>Configure the following information in the pop-up panel and click CONNECT to add the connection</li>
</ol>
<table><thead><tr><th>Zone</th><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Choose your connection method</td><td>Number of game servers in different states</td><td>VIA HTTPS</td></tr><tr><td>CONNECT REPO USING HTTPS</td><td>Number of game servers in different ops states</td><td>git</td></tr><tr><td></td><td>Project</td><td>default</td></tr><tr><td></td><td>Repository URL</td><td><a href="https://github.com/AliyunContainerService/gitops-demo.git" target="_blank" rel="noopener noreferrer">https://github.com/AliyunContainerService/gitops-demo.git</a></td></tr><tr><td></td><td>Skip server verification</td><td>tick</td></tr></tbody></table>
<img src="/assets/images/git1-dabecbd800586101ef40e61d25852a78.png" style="width:800px">
<img src="/assets/images/git2-52c9070f418f443e5c54227ebf40b7e8.png" style="width:800px">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="delivery-of-pve-type-gameservers">Delivery of PvE Type GameServers<a href="#delivery-of-pve-type-gameservers" class="hash-link" aria-label="Direct link to Delivery of PvE Type GameServers" title="Direct link to Delivery of PvE Type GameServers">‚Äã</a></h3>
<p>PvE games usually have the concept of zones, and in most cases, the operation engineers will manually control the number of game server opened in each region. For PvE game cloud biochemistry best practices, please refer to OKG PvE Game Best Practices document (<a href="https://openkruise.io/kruisegame/best-practices/pve-game" target="_blank" rel="noopener noreferrer">https://openkruise.io/kruisegame/best-practices/pve-game</a>).
When trying ArgoCD for the first time, we can use the white screen console to create separate Applications for each geographic cluster:</p>
<ol>
<li>Select Applications in the left navigation bar of the ArgoCD UI and click + NEW APP</li>
<li>Configure the following information in the pop-up panel and click CREATE to create. (Take opengame-demo-shanghai-dev for example)</li>
</ol>
<table><thead><tr><th>Zone</th><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>GENERAL</td><td>Application Name</td><td>opengame-demo-shanghai-dev</td></tr><tr><td></td><td>Project Name</td><td>default</td></tr><tr><td></td><td>SYNC POLICY</td><td>Select Automatic in the drop-down list. the parameter values are as follows:</td></tr><tr><td>Manual: Manually Synchronising Git Repository Changes</td><td></td><td></td></tr><tr><td>Automatic: Automatically synchronise Git repository changes at 3min intervals</td><td></td><td></td></tr><tr><td></td><td>SYNC OPTIONS</td><td>Tick AUTO-CREATE NAMESPACE</td></tr><tr><td>SOURCE</td><td>Repository URL</td><td>Select an existing Git Repo in the drop-down list, here select <a href="https://github.com/AliyunContainerService/gitops-demo.git" target="_blank" rel="noopener noreferrer">https://github.com/AliyunContainerService/gitops-demo.git</a></td></tr><tr><td></td><td>Revision</td><td>HEAD</td></tr><tr><td></td><td>Path</td><td>manifests/helm/open-game</td></tr><tr><td>DESTINATION</td><td>Cluster URL/Cluster Name</td><td>Select the target cluster in the drop-down list</td></tr><tr><td></td><td>Namespace</td><td>opengame</td></tr><tr><td>HELM</td><td>VALUES FILES</td><td>values.yaml</td></tr><tr><td>PARAMETERS</td><td>replicas</td><td>3 #Release of three Gameserver</td></tr><tr><td></td><td>scaled.enabled</td><td>false # Automatic elastic expansion without switching on</td></tr></tbody></table>
<ol start="3">
<li>After creation, you can see the application status of opengame-demo-shanghai-dev in the Application page. If the SYNC POLICY selection is Manual, you need to click SYNC manually to deploy the application synchronously to the target cluster. The Status of the application is Healthy and Synced, which means it has been successfully synchronised.</li>
</ol>
<img src="/assets/images/argo-ce028439a3b56a2e4bee243da228f6a0.png" style="width:850px">
<ol start="4">
<li>Click the opengame-demo-shanghai-dev application name to view the application details, showing the topology and corresponding status of the Kubernetes resources associated with the application.</li>
</ol>
<p>Once we are familiar with ArgoCD, we can also publish game servers with a single click through the ApplicationSet object. The difference between each cluster is abstracted by elements, for example, in the following Yaml, three fields are abstracted in terms of cluster dimension: cluster cluster name is used to distinguish the name of the application; url is used to distinguish the address of the target cluster; and replicas is used to distinguish the number of game apparel published by different clusters.
After writing the ApplicationSet Yaml, deploy it to the ACK One fleet cluster to automatically create four applications.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> pve.yaml </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> argocd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># The contents of pve.yaml are as followsÔºö</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: argoproj.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: ApplicationSet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: minecraft</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  generators:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - list:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      elements:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - cluster: shanghai-dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">https://47.100.237.xxx:644</span><span class="token operator file-descriptor important" style="color:#393A34">3</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        replicas: </span><span class="token string" style="color:#e3116c">&#x27;1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - cluster: shanghai-prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">https://47.101.214.xxx:644</span><span class="token operator file-descriptor important" style="color:#393A34">3</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        replicas: </span><span class="token string" style="color:#e3116c">&#x27;3&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - cluster: frankfurt-prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">https://8.209.103.xxx:644</span><span class="token operator file-descriptor important" style="color:#393A34">3</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        replicas: </span><span class="token string" style="color:#e3116c">&#x27;2&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - cluster: japan-prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">https://10.0.0.xxx:644</span><span class="token operator file-descriptor important" style="color:#393A34">3</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        replicas: </span><span class="token string" style="color:#e3116c">&#x27;2&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  template:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name: </span><span class="token string" style="color:#e3116c">&#x27;{{cluster}}-minecraft&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      project: default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      source:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        repoURL: </span><span class="token string" style="color:#e3116c">&#x27;&lt;https://github.com/AliyunContainerService/gitops-demo.git&gt;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        targetRevision: HEAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        path: manifests/helm/open-game</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        helm:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          valueFiles:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - values.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          parameters: </span><span class="token comment" style="color:#999988;font-style:italic">#Corresponds to the value parameter extracted from the helm chart.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - name: replicas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            value: </span><span class="token string" style="color:#e3116c">&#x27;{{replicas}}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - name: scaled.enabled </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            value: </span><span class="token string" style="color:#e3116c">&#x27;false&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      destination:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        server: </span><span class="token string" style="color:#e3116c">&#x27;{{url}}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        namespace: game-server </span><span class="token comment" style="color:#999988;font-style:italic">#Deploy to the game-server namespace of the corresponding cluster.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      syncPolicy:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        syncOptions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - </span><span class="token assign-left variable" style="color:#36acaa">CreateNamespace</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true </span><span class="token comment" style="color:#999988;font-style:italic">#If the namespace does not exist in the cluster, it is automatically created.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this Yaml, all image have the same version. If you want to have differences in the version of the mirrors across clusters, you can follow the example of replicas and add a new parameter parameter.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="delivery-of-pvp-type-gameservers">Delivery of PvP Type GameServers<a href="#delivery-of-pvp-type-gameservers" class="hash-link" aria-label="Direct link to Delivery of PvP Type GameServers" title="Direct link to Delivery of PvP Type GameServers">‚Äã</a></h3>
<p>For PvP type games, the number of rooms is provisioned by its own scaler rather than manually specified by the Ops Engineer. Best practices for cloud-based biochemistry for PvP-type games can be found in the OKG Best Practices for PvP Games document (<a href="https://openkruise.io/kruisegame/best-practices/session-based-game" target="_blank" rel="noopener noreferrer">https://openkruise.io/kruisegame/best-practices/session-based-game</a>).</p>
<p>In OKG we enable flexible scaling of game servers by configuring a ScaledObject object for the GameServerSet. Therefore, scaled.enabled in Helm Chart Value needs to be turned on in this scenario. In addition, there are 2 controllers, ArgoCD and OKG, for the number of copies of the rooms to conflict, which can be solved by having ArgoCD ignore the changes in the number of copies of the GameServerSet resource, by setting the corresponding field in spec.ignoreDifferences. Considering the above, the pvp.yaml looks like this:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> pvp.yaml </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> argocd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># The contents of pvp.yaml are as followsÔºö</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: argoproj.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: ApplicationSet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: pvp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  generators:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - list:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      elements:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - cluster: shanghai-dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">https://47.100.237.xxx:644</span><span class="token operator file-descriptor important" style="color:#393A34">3</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - cluster: shanghai-prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">https://47.101.214.xxx:644</span><span class="token operator file-descriptor important" style="color:#393A34">3</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - cluster: frankfurt-prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">https://8.209.103.xxx:644</span><span class="token operator file-descriptor important" style="color:#393A34">3</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - cluster: japan-prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">https://10.0.0.xxx:644</span><span class="token operator file-descriptor important" style="color:#393A34">3</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  template:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name: </span><span class="token string" style="color:#e3116c">&#x27;{{cluster}}-pvp&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      project: defaultminecraft</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ignoreDifferences: </span><span class="token comment" style="color:#999988;font-style:italic"># Set GameServerSet number of minecraft replicas to be controlled by the cluster itself</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - group: game.kruise.io</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        kind: GameServerSet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name: minecraft</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        namespace: game</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        jsonPointers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - /spec/replicas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      source:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        repoURL: </span><span class="token string" style="color:#e3116c">&#x27;&lt;https://github.com/AliyunContainerService/gitops-demo.git&gt;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        targetRevision: HEAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        path: manifests/helm/open-game</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        helm:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          valueFiles:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - values.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      destination:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        server: </span><span class="token string" style="color:#e3116c">&#x27;{{url}}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        namespace: pvp-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      syncPolicy:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        syncOptions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - </span><span class="token assign-left variable" style="color:#36acaa">CreateNamespace</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this Yaml, all mirrors have the same version. If you want to have differences in the version of the mirrors across clusters, you can follow the example of replicas and add a new parameter parameter.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lessons-learnt">Lessons learnt<a href="#lessons-learnt" class="hash-link" aria-label="Direct link to Lessons learnt" title="Direct link to Lessons learnt">‚Äã</a></h3>
<p>Through the above example, we will find that good application abstraction is the key to agile delivery of GameServerSet. We need to try to keep most of the fields in GameServerSet consistent, and extract the fields that have differences, so that we only need to change and maintain specific corresponding fields for different environments to truly achieve agile delivery.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gameserver-operation-and-maintenance-management">GameServer Operation and Maintenance Management<a href="#gameserver-operation-and-maintenance-management" class="hash-link" aria-label="Direct link to GameServer Operation and Maintenance Management" title="Direct link to GameServer Operation and Maintenance Management">‚Äã</a></h2>
<p>Even for the same workload (GameServerSet), there is variability in the state between game servers. In this case, the delivered GameServer also require continuous targeted O&amp;M management, which is the biggest difference from stateless business.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="okg-dashboard-white-screen-proactive-om">OKG Dashboard White Screen Proactive O&amp;M<a href="#okg-dashboard-white-screen-proactive-om" class="hash-link" aria-label="Direct link to OKG Dashboard White Screen Proactive O&amp;M" title="Direct link to OKG Dashboard White Screen Proactive O&amp;M">‚Äã</a></h3>
<p>Usually, we need to proactively operate and maintain the game service -- statistics and query the game service status; directional changes to the game service version, resource specifications, operation and maintenance status, and so on. With OKG Dashboard, you can realise the proactive operation and maintenance of the game service:</p>
<ul>
<li>Instructions for using the OKG Dashboard can be found at: <a href="https://openkruise.io/kruisegame/user-manuals/game-dashboard" target="_blank" rel="noopener noreferrer">https://openkruise.io/kruisegame/user-manuals/game-dashboard</a></li>
<li>More requirements for OKG Dashboard can be commented under issue: <a href="https://github.com/openkruise/kruise-game/issues/139" target="_blank" rel="noopener noreferrer">https://github.com/openkruise/kruise-game/issues/139</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="construction-of-monitoring-and-warning-mechanisms-to-enhance-the-stability-of-the-gameservers">Construction of monitoring and warning mechanisms to enhance the stability of the GameServers<a href="#construction-of-monitoring-and-warning-mechanisms-to-enhance-the-stability-of-the-gameservers" class="hash-link" aria-label="Direct link to Construction of monitoring and warning mechanisms to enhance the stability of the GameServers" title="Direct link to Construction of monitoring and warning mechanisms to enhance the stability of the GameServers">‚Äã</a></h3>
<p>In addition to proactive O&amp;M, we need to establish a subscription mechanism for stability issues. When the game service is not running as expected, the operation and maintenance engineers can respond and deal with it in a timely manner.</p>
<p>OKG provides the ability to customise the quality of service, which can be used flexibly to achieve targeted game service anomalies and alerts. Read the documentation:</p>
<ul>
<li><a href="https://openkruise.io/kruisegame/user-manuals/service-qualities/#set-the-om-status-of-unhealthy-game-servers-to-maintaining" target="_blank" rel="noopener noreferrer">https://openkruise.io/kruisegame/user-manuals/service-qualities/#set-the-om-status-of-unhealthy-game-servers-to-maintaining</a></li>
<li><a href="https://openkruise.io/kruisegame/best-practices/pve-game/#custom-service-quality-for-game-servers" target="_blank" rel="noopener noreferrer">https://openkruise.io/kruisegame/best-practices/pve-game/#custom-service-quality-for-game-servers</a></li>
</ul>
<p>In addition, if you want GameServer to implement targeted alerts by monitoring metrics, you can also determine the value of GameServer OpsState by calling the Prometheus API in a custom Quality of Service script (pod name can be obtained using the DownwardAPI) and comparing the metric thresholds.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-07-29T07:28:27.000Z" itemprop="dateModified">Jul 29, 2025</time></b> by <b>Parship Chowdhury</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/kruisegame/best-practices/shared-mem"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Best Practice for Shard-Memory of GameServers</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/kruisegame/best-practices/workflow"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Best Practices for Game O&amp;M Workflow</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#gameserver-delivery-with-argocd" class="table-of-contents__link toc-highlight">GameServer Delivery with ArgoCD</a><ul><li><a href="#connecting-to-a-git-repository" class="table-of-contents__link toc-highlight">Connecting to a Git Repository</a></li><li><a href="#delivery-of-pve-type-gameservers" class="table-of-contents__link toc-highlight">Delivery of PvE Type GameServers</a></li><li><a href="#delivery-of-pvp-type-gameservers" class="table-of-contents__link toc-highlight">Delivery of PvP Type GameServers</a></li><li><a href="#lessons-learnt" class="table-of-contents__link toc-highlight">Lessons learnt</a></li></ul></li><li><a href="#gameserver-operation-and-maintenance-management" class="table-of-contents__link toc-highlight">GameServer Operation and Maintenance Management</a><ul><li><a href="#okg-dashboard-white-screen-proactive-om" class="table-of-contents__link toc-highlight">OKG Dashboard White Screen Proactive O&amp;M</a></li><li><a href="#construction-of-monitoring-and-warning-mechanisms-to-enhance-the-stability-of-the-gameservers" class="table-of-contents__link toc-highlight">Construction of monitoring and warning mechanisms to enhance the stability of the GameServers</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/installation">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kubernetes.slack.com/channels/openkruise" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kubernetes Slack ( #openkruise channel )<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/kruisegame/best-practices/">DingTalk (GroupID: 23330762 )</a></li><li class="footer__item"><a class="footer__link-item" href="/kruisegame/best-practices/">WeChat (User: openkruise )</a></li><li class="footer__item"><a href="https://shimo.im/docs/gXqmeQOYBehZ4vqo" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bi-week Meeting (APAC, Chinese)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/openkruise/kruise" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/openkruise/community/blob/master/community-membership.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Membership<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
        <br>
        <strong>¬© 2025 The OpenKruise Authors. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage/"> Trademark Usage</a> page.</strong></div></div></div></footer></div>
</body>
</html>