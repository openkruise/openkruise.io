"use strict";(self.webpackChunkopenkruise_io=self.webpackChunkopenkruise_io||[]).push([[1957],{28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>o});var a=n(96540);const s={},i=a.createContext(s);function r(e){const t=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(i.Provider,{value:t},e.children)}},55392:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"user-manuals/gameserver-state","title":"State & OpsState","description":"GameServer State","source":"@site/kruisegame/user-manuals/gameserver-state.md","sourceDirName":"user-manuals","slug":"/user-manuals/gameserver-state","permalink":"/kruisegame/user-manuals/gameserver-state","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"Marco","lastUpdatedAt":1766020085000,"frontMatter":{},"sidebar":"kruisegame","previous":{"title":"Deploy Gameservers","permalink":"/kruisegame/user-manuals/deploy-gameservers"},"next":{"title":"Hot Update","permalink":"/kruisegame/user-manuals/hot-update"}}');var s=n(74848),i=n(28453);const r={},o="State & OpsState",l={},d=[{value:"GameServer State",id:"gameserver-state",level:2},{value:"GameServer OpsState",id:"gameserver-opsstate",level:2}];function c(e){const t={h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"state--opsstate",children:"State & OpsState"})}),"\n",(0,s.jsx)(t.h2,{id:"gameserver-state",children:"GameServer State"}),"\n",(0,s.jsx)(t.p,{children:"State represents the runtime state of the game server, related to the lifecycle of the pod and cannot be customized by the user. The current State includes the following values:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Creating \u2014\u2014 indicates that the pod is being created, equivalent to Pod Pending"}),"\n",(0,s.jsx)(t.li,{children:"Ready \u2014\u2014 indicates that the pod is ready, with the pod ready condition being true"}),"\n",(0,s.jsx)(t.li,{children:"NotReady \u2014\u2014 indicates that the pod is not ready, with the pod ready condition being false"}),"\n",(0,s.jsx)(t.li,{children:"Crash \u2014\u2014 indicates that the pod has failed, equivalent to Pod Failed"}),"\n",(0,s.jsx)(t.li,{children:"Deleting \u2014\u2014 indicates that the pod is being deleted, equivalent to Pod Terminating"}),"\n",(0,s.jsx)(t.li,{children:"Updating \u2014\u2014 indicates that the pod is undergoing in-place upgrade"}),"\n",(0,s.jsx)(t.li,{children:"PreDelete \u2014\u2014 indicates that the pod is in a pre-deletion state. It appears after executing the pod's deletion action with a deletion lifecycle hook set and entering the Deleting state after resolving the deadlock"}),"\n",(0,s.jsx)(t.li,{children:"PreUpdate \u2014\u2014 indicates that the pod is in a pre-upgrade state. It appears after performing an in-place upgrade of the pod with an update lifecycle hook set and entering the Updating state after resolving the deadlock"}),"\n",(0,s.jsx)(t.li,{children:"Unknown \u2014\u2014 all other states not mentioned above"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:'Annotation "game.kruise.io/state-last-changed-time" records the time when the state was last changed. Users can use DownwardAPI to sink it into the container for business applications to obtain.'}),"\n",(0,s.jsx)(t.h2,{id:"gameserver-opsstate",children:"GameServer OpsState"}),"\n",(0,s.jsx)(t.p,{children:"OpsState represents the operational state of the game server, determined by the business and can be freely modified by the user. OKG provides some reserved values with special meanings, including:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"None \u2014\u2014 default value, representing no exceptions or special states"}),"\n",(0,s.jsx)(t.li,{children:"WaitToBeDeleted \u2014\u2014 the highest priority for game server scaling down, and will be automatically reclaimed after configuring automatic scaling policy"}),"\n",(0,s.jsx)(t.li,{children:"Maintaining \u2014\u2014 the lowest priority for game server scaling down"}),"\n",(0,s.jsx)(t.li,{children:"Allocated \u2014\u2014 the scaling down priority of the game server is greater than Maintaining but less than None. It usually represents that the game server has been allocated and can be used in game matching scenarios."}),"\n",(0,s.jsx)(t.li,{children:"Kill \u2014\u2014 game servers with Kill set will be directly deleted by the OKG controller"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Users can change the GameServer opsState by calling the K8s API (or kubectl), and can also automatically trigger the corresponding GameServer opsState change by customizing the service quality features within the business container."}),"\n",(0,s.jsx)(t.p,{children:'Annotation "game.kruise.io/opsState-last-changed-time" records the time when the state was last changed. Users can use DownwardAPI to sink it into the container for business applications to obtain.'})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);